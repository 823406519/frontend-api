

## 单元素/单组件过渡
Vue 提供 `<transition>` 的内置组件，允许在以下环境为元素或组件增加过渡：
* 条件渲染和条件display
* 动态组件
* 组件根节点

当元素/组件插入/删除时，发生以下：
1. 在合适的时候，css 过渡类会自动添加和删除
2. 如果过渡的元素提供javascript 钩子，钩子会在合适的状态被调用
3. 如果没有css 过渡和javascript 钩子，插入和删除的操作将在下一帧(next frame)立即执行(注意，是浏览器的动画帧，而不是Vue 中 nextTick的概念)

## 过渡类
![](transition.png)
1. v-enter: enter的开始状态
2. v-enter-active: 激活enter的状态。在整个进入阶段应用
3. v-enter-to: enter的结束状态
4. v-leave: leave的开始状态
5. v-leave-active: leave的激活状态
6. v-leave-to: leave的结束状态

如果`<transition>`没有name, 默认以`v-`作为过度类的前缀，如果有name，则过度类前缀为该名称，如果`<transition name="my-transition">`,过渡类的前缀为`my-transition`

## 过度类使用CSS过渡
```css
/* Enter and leave animations can use different */
/* durations and timing functions.              */
.my-transition-enter-active {
  transition: all .3s ease;
}
.my-transition-leave-active {
  transition: all .8s cubic-bezier(1.0, 0.5, 0.8, 1.0);
}
.my-transition-enter, .my-transition-leave-to
/* .slide-fade-leave-active below version 2.1.8 */ {
  transform: translateX(10px);
  opacity: 0;
}
```

## 过度类使用CSS 动画
```css
.bounce-enter-active {
  animation: bounce-in .5s;
}
.bounce-leave-active {
  animation: bounce-in .5s reverse;
}
@keyframes bounce-in {
  0% {
    transform: scale(0);
  }
  50% {
    transform: scale(1.5);
  }
  100% {
    transform: scale(1);
  }
}
```

> Vue需要绑定事件监听知道过渡何时结束。可能是`transitoinend`或者`animationend`, 这是根据应用的css规则决定，只使用其中的一种，vue可以检测出正确的监听类型。同时使用过渡和动画设置过渡类，需要使用type并设置 animation 或 transition 来明确声明你需要 Vue 监听的类型

## 自定义过度类
可以根据以下属性绑定自定义的过度类，可以为元素应用第三方库的类
* enter-class
* enter-active-class
* enter-to-class (2.1.8+)
* leave-class
* leave-active-class
* leave-to-class (2.1.8+)

## 显示过渡时间
很多情况下，需要明确指出过渡结束的时间。默认情况下，Vue 等待根过渡元素的第一个 `transitionend` 或 `animationend` 事件, 有时候需要进行过渡的编排。
```html
<transition :duration="1000">...</transition>

<transition :duration="{ enter: 500, leave: 800 }">...</transition>
```

## 指令钩子
* beforeEnter
* enter
* afterEnter
* enterCanceled
* beforeLeave
* leave
* afterLeave
* leaveCancelled

如果只是使用javascript钩子过渡，在`enter`和`leave`钩子内需要`done回调`, 如果不添加，钩子会被同步调用该，过渡会立即完成。

如果只添加javascript钩子过渡，可以添加`v-band:css=false`属性跳过css 过渡侦测，这样可以避免css 规则突然干扰过渡

```js
// `v-on:beforeEnter = method`
<transition
  v-on:before-enter="beforeEnter"
  v-on:enter="enter"
  v-on:after-enter="afterEnter"
  v-on:enter-cancelled="enterCancelled"

  v-on:before-leave="beforeLeave"
  v-on:leave="leave"
  v-on:after-leave="afterLeave"
  v-on:leave-cancelled="leaveCancelled"
>
  <!-- ... -->
</transition>

methods: {
  // --------
  // ENTERING
  // --------

  beforeEnter: function (el) {
    // ...
  },
  // the done callback is optional when
  // used in combination with CSS
  enter: function (el, done) {
    // ...
    done()
  },
  afterEnter: function (el) {
    // ...
  },
  enterCancelled: function (el) {
    // ...
  },

  // --------
  // LEAVING
  // --------

  beforeLeave: function (el) {
    // ...
  },
  // the done callback is optional when
  // used in combination with CSS
  leave: function (el, done) {
    // ...
    done()
  },
  afterLeave: function (el) {
    // ...
  },
  // leaveCancelled only available with v-show
  leaveCancelled: function (el) {
    // ...
  }
}
````