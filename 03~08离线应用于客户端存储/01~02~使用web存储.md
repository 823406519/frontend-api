## web存储
web存储分为本地存储localstorage和会话存储sessionstorage， web存储适合于用来存储特定于用户的信息。

1. localstorage是持久化的存储，直到用户手动清除，会话存储只要浏览器关闭就会消失。大多数开发者选择的都是localstorage进行持久化的存储
2. 与cookie类似，web存储与域名是一一对应的，与cookie不一样的是，无法让app.foo.com 使用www.foo.com存储的数据
3. web存储的存储限制一般在5-10MB，一般是够用的，如果超过了限制，Chrome，Safari和Firfox都会报告一个错误，而IE和Edge暂时还不会。

## 使用web存储
```js
// ==== 因为sessionstorage的api与localstorage的用法一样
// 仅给出localstorage的api

localStorage.setItem(name, value)
localStorage.getItem(name)
localStorage.removeItem(name)
localStorage.clear()

// web 存储中仅支持字符串数据，所以不是字符串会自动进行toString转换
// 为了统一处理，可以使用JSON编码
// 如果将值进行了JSON编码，可以使用为name命名加上前缀js或json
localStorage.setItem(name, JSON.stringify(value))
JSON.parse(localstorage.getItem(name))

```

## web存储的存储变化事件
```js
// 存储事件在window上触发
// 存储事件的触发只有在浏览器的另外一个实例修改web存储时，才会被触发
window.on('storage', function(e){
  coonsole.log(e.originalEvent.newValue)
  coonsole.log(e.originalEvent.oleValue)
})
```