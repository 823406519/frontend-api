## UI事件
UI 事件指的是那些不一定与用户操作有关的事件
1. load:当页面完全加载后触发
2. beforeuplaod: 页面卸载前触发，如果onbeforeupload不是在body元素上绑定，一定要将它绑定到window对象上
3. upload：当页面完全卸载后触发，如用户通过点击链接，提交表单，关闭窗口等离开页面时, 这个事件多数用于清除引用，避免内存泄漏
4. error：当下载外部文件时发送错误时触发
5. abort：当加载音视频中止的时候触发（注意不是发生错误）
6. resize: 当浏览器窗口改变大小时发生。
7. scroll：滚动条滚动时发生,如果scroll是在body元素上绑定，一定要将它绑定到window对象上
8. select: 在指定元素内文本被选中时发生，经常在`input:text | textarea`元素上使用

9. DOMContentLoaded: 当初始的 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，而无需等待样式表、图像和子框架的完成加载

```js
// === beforeupload 挂载到window object 上
window.addEventListener("beforeunload", function(event) {
  event.returnValue = "Write something clever here..";
});

// === error例子，如加载图片出错
document.querySelector('img').addEventListener('error', function() {
  console.log('图片加载出错');
});
```


## DOMContentLoaded 事件
window 的 load 事件会在页面中的一切都加载完毕时触发，但这个过程可能会因为要加载的外部资源过多而颇费周折。而 DOMContentLoaded 事件则在形成完整的 DOM 树之后就会触发，不理会图像、JavaScript 文件、CSS 文件或其他资源是否已经下载完毕。

要处理 DOMContentLoaded 事件，可以为 document 或 window 添加相应的事件处理程序（尽管这个事件会冒泡到 window，但它的目标实际上是 document）。

load 与 DOMContentLoaded的区别：
1. load: 页面的html、css、js、图片等资源都已经加载完之后才会触发 load 事件
2. DOMContentLoaded: HTML下载、解析完毕之后就触发

解析DOM结构时
1. 如果遇到普通的外链的js，会停止DOM构建。
2. 遇到外链css，不影响后面的 DOM 构建，会阻碍渲染，即外链 css 加载完之前，页面还是白屏
在 html文档加载完毕，并且 html 所引用的内联 js、以及外链 js 的同步代码都执行完毕后触发DOMContentLoaded 事件。html 文档中的图片资源，js 代码中有异步加载的 css、js 、图片资源都加载完毕之后，load 事件触发


* 在载入所有信息之后，触发window.onload
* window.onDocmentReady 在加载DOM之后执行，比window.onload先触发


## readystatechange 事件
IE 为 DOM 文档中的某些部分提供了 readystatechange 事件。支持 readystatechange 事件的每个对象都有一个 readyState 属性，可能包含下列 5 个值中的一个:
1. uninitialized（未初始化）：对象存在但尚未初始化
2. loading（正在加载）：对象正在加载数据
3. loaded（加载完毕）：对象加载数据完成
4. interactive（交互）：可以操作对象了，但还没有完全加载
5. complete（完成）：对象已经加载完毕

对于 document 而言，值为"interactive"的 readyState 会在与 DOMContentLoaded 大致相同的时刻触发 readystatechange 事件。但与此同时，图像及其他外部文件不一定可用。

注意：虽然使用 readystatechange 可以十分近似地模拟 DOMContentLoaded 事件，但它们本质上还是不同的。在不同页面中，load 事件与 readystatechange 事件并不能保证以相同的顺序触发。

```js
// 判断动态载入的 script、link 标签是否加载完成 demo
const script = document.createElement('script')
script.addEventListener('readystatechange', function eventListener(event) {
  if (event.readyState === 'loaded' || event.readyState === 'complete') { // hack 的手段，浏览器自身的问题
    script.removeEventListener('readystatechange', eventListener)
  }
})

script.src = 'example.js'
document.body.appendChild(script)
```