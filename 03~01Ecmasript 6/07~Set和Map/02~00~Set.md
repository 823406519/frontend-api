<div style="color:red; font-size: 14px;font-weight: bold">
本节重点：
<p>1. 如何构造或者初始化构造Set</p>
<p>2. Set的常用API方法及属性</p>
<p>3. Set的forEach方法</p>
<p>4. Set的转换为数组</p>
</div>

## Set
Set 是无重复值的有序列表

```js
// ===== 构造
let set = new Set(); // 使用new调用构造函数Set

/*
可以接受任意可迭代对象作为参数，构造器会自动使用迭代器
迭代提取参数的值
*/
let set = new Set([1, 2, 3, 4, 5, 5, 5, 5]);

// ==== 方法和属性
// add方法
let set = new Set();
set.add(5);
set.add("5"); // 没有重复
set.add(5);     // duplicate - this is ignored

// === size 属性
console.log(set.size);    // 2

// has方法
console.log(set.has(5));    // true
console.log(set.has(6));    // false

// delete
set.delete(5);
console.log(set.has(5));    // false
console.log(set.size);      // 1

// clear
set.clear();
console.log(set.has("5"));  // false
console.log(set.size);      // 0
```

## Set的forEach方法
`set.forEach(callback[,this])`
1. callback类型: `Function`,参数为
    * value：set中迭代的值
    * key： set中不存在key，同样是set中迭代的值
    * set:使用foreach的set实例

2. this。绑定回调函数的执行上下文，一般可以使用回调函数代替

> set上的foreach方法的回调函数前两个参数是相同的，因为其他使用foreach方法的对象，如数组和map，都是给回调函数传递三个参数，为了保持方法参数的一致性，所以使用三个参数，规定set的foreach方法的前两个参数都是一样的

```js
// ==== 例子
let set = new Set([1, 2]);

set.forEach(function(value, key, ownerSet) {
  console.log(key + ' ' + value);
  console.log(ownerSet === set);
});

// ==== 传入this绑定回调函数上下文
let set = new Set([1, 2]);

let processor = {
  output(value) {
    console.log(value);
  },
  process(dataSet) {
    dataSet.forEach(function(value) {
      this.output(value); // 调用对象上的outpu方法
    }, this);
  }
};

processor.process(set);

// 或者可以使用回调函数代替
let set = new Set([1, 2]);

let processor = {
    output(value) {
        console.log(value);
    },
    process(dataSet) {
        dataSet.forEach((value) => this.output(value));
    }
};

processor.process(set);
```


## 将Set转换为数组
```js
// 详细了解迭代器相关内容
// 扩展运算符在迭代对象上使用，可以将迭代对象转换为数组
let set = new Set([1, 2, 3, 3, 3, 4, 5]);
let array = [...set];

console.log(array); // [1,2,3,4,5]
```