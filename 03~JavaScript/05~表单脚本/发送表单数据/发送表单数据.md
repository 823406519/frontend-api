
## 发送表单数据
1. 构建 XMLHttpRequest
2. 使用 XMLHttpRequest 和 the FormData object（表单数据对象）
3. 在隐藏的iframe中构建DOM

## 构建 XMLHttpRequest
```js
function sendData(data) {
  var XHR = new XMLHttpRequest();
  var urlEncodedData = "";
  var urlEncodedDataPairs = [];
  var name;

  // 将数据对象转换为URL编码的键/值对数组。
  for(name in data) {
    urlEncodedDataPairs.push(encodeURIComponent(name) + '=' + encodeURIComponent(data[name]));
  }

  // 将配对合并为单个字符串，并将所有%编码的空格替换为
  // “+”字符；匹配浏览器表单提交的行为。
  urlEncodedData = urlEncodedDataPairs.join('&').replace(/%20/g, '+');

  // 定义成功数据提交时发生的情况
  XHR.addEventListener('load', function(event) {
    alert('耶! 已发送数据并加载响应。');
  });

  // 定义错误提示
  XHR.addEventListener('error', function(event) {
    alert('哎呀！出问题了。');
  });

  // 建立我们的请求
  XHR.open('POST', 'https://example.com/cors.php');

  // 为表单数据POST请求添加所需的HTTP头
  XHR.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

  // 最后，发送我们的数据。
  XHR.send(urlEncodedData);
}
```

## 使用 XMLHttpRequest 和 the FormData object（表单数据对象）
XMLHttpRequest 规范提供了一种方便简单的方法 — 利用FormData对象来处理表单数据请求。FormData 对象可以用来构建用于传输的表单数据，或是获取表单元素中的数据来管理它的发送方式。 请注意，FormData 对象是“只写”的，这意味着您可以更改它们，但不能检索其内容

参考：https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects

## 在隐藏的iframe中构建DOM
最古老的异步发送表单数据方法是用 DOM API 构建表单，然后将其数据发送到隐藏的 <iframe>

警告：不要使用这项技术。有第三方服务的安全风险，因为它会使你暴露在 脚本注入攻击 中. 如果你使用 HTTPS，它会影响 同源策略, 这可以使 `<iframe>` 内容无法访问。然而，该方法可能是你需要支持很古老的浏览器的唯一选择。