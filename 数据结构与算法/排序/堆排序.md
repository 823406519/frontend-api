堆是完全二叉树,当每个结点的值都大于或等于其左右孩子结点的值，称为大顶堆，每个结点的值都小于或等于其左右孩子结点的值，称为小顶堆。

> 对一棵有n个结点的完全二叉树按层序编号(从第1层到 第log2n+1 层，每层从左到右)，对任一结点 i (1<=i<=n):
  1. 除了i=1，其余节点的父节点为[i/2]
  2. 除了2i>n, 其左子节点为2i
  3. 除了2i+1>n, 其右子节点为2i+1

## 堆排序
堆排序 (Heap sort) 就是利用堆(假设利用大顶堆)进行排序的方法。基本思想是构建初始堆，将根节点与末尾元素交换，再进行堆构造。
  * 第1个循环，。循环从[list.length/2]开始，要完成的就是将现在的待排序序列构建成一个大顶堆，因为从[list.length/2] -> 1的循环，节点都是有孩子的点，可以通过它自身，关联到它的孩子节点。
    ```js
    // 构建大顶堆
    function buildHeal(list, now, length){
      let temp = list[now]; // now = list.length/2 ->1
      // 沿着较大点向下筛选
      for(let i = 2 * now; i<length; i= 2*i){
        if(list[i] < list[i+1]) i++;
        if(temp > list[i]) break;
        list[now] = list[i];  // 节点的值为左右孩子的最大值
        now = i // 记录下当前的位置，循环结束后替换
      }
      list[i] = temp
    }
    ```
  
  * 第2个循环要完成的就是逐步将根节点与末尾元素交换，然后调用buildHeal调整其为大顶堆。
    ```js
    for(i = list.length; i > 1; i--){
      swap(list, i-1)
      buildHead(list, 1, i-1)
    }
    ```