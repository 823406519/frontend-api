参考：https://juejin.im/post/5b70edd4f265da27df0938bc#heading-0

## 缓存分类
根据是否需要重新向服务器发起请求，缓存分为强制缓存，对比缓存（协商缓存）
* 强制缓存在缓存数据未失效的情况下，不需要再和服务器发生交互。
* 协商缓存，需要进行比较判断是否可以使用缓存

两类缓存规则可以同时存在，强制缓存优先级高于协商缓存。当执行强制缓存的规则时，如果强缓存生效，直接使用强缓存，不再执行协商缓存规则。

> `Pragma > Cache-Control > Expires > ETag > Last-Modified`

## 缓存优点
1. 提高客户端加载速度
2. 降低服务器资源损耗

## 缓存过程
1. 浏览器第一次请求
  是否存在缓存 -> 否，向服务器发起请求 -> 获取服务器响应，存入缓存 -> 提供给客户端

2. 后续对同一URL进行请求
  是否存在缓存 -> 是 -> 判断是否命中强缓存 （cache-control和expires），如命中，直接从缓存获取资源，包括响应的 header信息，请求不会和服务器通信 
  
  -> 如果没有命中强缓存，即缓存过期。浏览器会发送请求到服务器，请求会携带第一次请求返回的有关缓存的 header 信息（Etag/If-None-Match和Last-Modified/If-Modified-Since）
   * 首先检查ETag，请求头添加if-None-Match
   * 然后检查Last-Modified，请求头添加if-Modified-since

服务器进行检查，文件被修改了，发送200和新的文件；如果没被修改，发送304。该过程为协商缓存
